<md-toolbar>
    <div class="md-toolbar-tools">
        <md-button class="md-icon-button"
                   aria-label="Menu Button"
                   hide-gt-md
                   ng-click="onClickMenu();">
            <md-icon
                    md-svg-icon="assets/icons/menu.svg"
                    aria-label="Menu Icon">
            </md-icon>
        </md-button>

        <h2>{{currentTab | capitalize:'first'}} Settings</h2>

        <span flex></span>

        <md-button class="md-raised md-accent" ng-disabled="false" aria-label="description"  md-ripple-size="full" ng-click="showDialog($event, 'add_countries', 'add_country')" ng-if="currentTab == 'countries'">Add New Country</md-button>

        <md-button class="md-raised md-accent" ng-disabled="false" aria-label="description"  md-ripple-size="full" ng-click="showDialog($event, 'add_schools', 'add_school')" ng-if="currentTab == 'schools'">Add New School</md-button>

        <md-button class="md-raised md-accent" ng-disabled="false" aria-label="description"  md-ripple-size="full" ng-click="showDialog($event, 'add_courses', 'add_course')" ng-if="currentTab == 'programmes'">Add New Programme</md-button>

        <md-button class="md-raised md-accent" ng-disabled="false" aria-label="description"  md-ripple-size="full" ng-click="showDialog($event, 'add_subjects', 'add_subject')" ng-if="currentTab == 'subjects'">Add New Subject</md-button>

        <md-button class="md-raised md-accent" ng-disabled="false" aria-label="description"  md-ripple-size="full" ng-click="showDialog($event, 'add_topics', 'add_topic')" ng-if="currentTab == 'topics'">Add New Topic</md-button>

        <md-button class="md-raised md-accent" ng-disabled="gradingPristine" aria-label="description"  md-ripple-size="full" ng-click="saveGradingSystem()" ng-if="currentTab == 'grading'">Save New Grading</md-button>

        <md-button class="md-raised md-accent" aria-label="description"  md-ripple-size="full" ng-click="showSoundDialog($event, 'add_sounds', 'add_sound')" ng-if="currentTab == 'sounds'">Add Sound</md-button>

    </div>
</md-toolbar>

<div class="sm-main-container">
  <md-card>
    <md-card-content>
      <div ng-cloak>
        <md-content>
          <md-tabs md-dynamic-height md-border-bottom md-selected="selectedSettingsTab">
            <md-tab label="countries" md-on-select="onTabChange('countries')" ng-click="setSeletedSettingsTab(0)">
              <md-content class="sm-tab-content" class="md-padding">

                <md-table-container>
                  <table md-table md-progress="loadingPromise">
                    <thead md-head md-order="query.order" md-on-reorder="getSchools">
                      <tr md-row>
                        <th md-column md-order-by="schools.name"><span>COUNTRY NAME</span></th>
                        <th md-column>COUNTRY ABBREV</th>
                        <th md-column>COUNTRY CODE</th>
                        <th md-column>DESCRIPTION</th>
                        <th md-column md-numeric></th>
                      </tr>
                    </thead>
                    <tbody md-body>
                      <tr md-row md-select="dessert" md-select-id="name" md-auto-select ng-repeat="country in get_countries.data.countries" ng-if="country.is_deleted != '1'">
                        <td md-cell>{{country.country_full_name}}</td>
                        <td md-cell>{{country.country_short_name}}</td>
                        <td md-cell>{{country.country_call_code}}</td>
                        <td md-cell>{{country.country_description}}</td>
                        <td md-cell>
                          <button class="md-button md-raised md-primary" ng-click="showEditDialog($event, country, 'countries', 'edit_country')">
                            <md-tooltip md-direction="top">
                              Edit {{country.country_full_name}}
                            </md-tooltip>
                            <i class="material-icons">edit</i>
                          </button>
                          <button class="md-button md-raised md-warn" ng-click="performDeleteOperation($event, country, 'country', 'countries')">
                            <md-tooltip md-direction="top">
                              Delete {{country.country_full_name}}
                            </md-tooltip>
                            <i class="material-icons">delete_forever</i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </md-table-container>

              </md-content>
            </md-tab>
            <md-tab label="schools" md-on-select="onTabChange('schools')">
              <md-content class="sm-tab-content" class="md-padding">

                <md-table-container>
                  <table md-table md-progress="loadingPromise">
                    <thead md-head md-order="query.order" md-on-reorder="getSchools">
                      <tr md-row>
                        <th md-column><span>SCHOOL NAME</span></th>
                        <th md-column>TOWN</th>
                        <th md-column>DESCRIPTION</th>
                        <th md-column md-numeric></th>
                      </tr>
                    </thead>
                    <tbody md-body>
                      <tr md-row md-select="dessert" md-select-id="name" md-auto-select ng-repeat="school in get_schools.data.schools" ng-if="school.is_deleted != '1'">
                        <td md-cell>{{school.school_name}}</td>
                        <td md-cell>{{school.school_location}}</td>
                        <td md-cell>{{school.school_description}}</td>
                        <td md-cell>
                          <button class="md-button md-raised md-primary" ng-click="showEditDialog($event, school, 'edit_schools', 'edit_school')">
                            <md-tooltip md-direction="top">
                              Edit {{school.school_name}}
                            </md-tooltip>
                            <i class="material-icons">edit</i>
                          </button>
                          <button class="md-button md-raised md-warn" ng-click="performDeleteOperation($event, school, 'school', 'schools')">
                            <md-tooltip md-direction="top">
                              Delete {{school.school_name}}
                            </md-tooltip>
                            <i class="material-icons">delete_forever</i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </md-table-container>

              </md-content>
            </md-tab>
            <md-tab label="programmes" md-on-select="onTabChange('programmes')">
              <md-content class="sm-tab-content" class="md-padding">

                <md-table-container>
                  <table md-table md-progress="loadingPromise">
                    <thead md-head md-order="query.order" md-on-reorder="getSchools">
                      <tr md-row>
                        <th md-column><span>PROGRAMME NAME</span></th>
                        <th md-column><span>NUMBER OF SUBJECTS</span></th>
                        <th md-column>DESCRIPTION</th>
                        <th md-column md-numeric></th>
                      </tr>
                    </thead>
                    <tbody md-body>
                      <tr md-row md-select="dessert" md-select-id="name" md-auto-select ng-repeat="course in get_courses.data.courses" ng-if="course.is_deleted != '1'">
                        <td md-cell>{{course.course_name}}</td>
                        <td md-cell>{{course.subjects.length}}</td>
                        <td md-cell>{{course.course_description}}</td>
                        <td md-cell>
                          <button class="md-button md-raised md-primary" ng-click="showEditDialog($event, course, 'edit_courses', 'edit_course')">
                            <md-tooltip md-direction="top">
                              Edit {{course.course_name}}
                            </md-tooltip>
                            <i class="material-icons">edit</i>
                          </button>
                          <button class="md-button md-raised md-warn" ng-click="performDeleteOperation($event, course, 'course', 'courses')">
                            <md-tooltip md-direction="top">
                              Delete {{course.course_name}}
                            </md-tooltip>
                            <i class="material-icons">delete_forever</i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </md-table-container>

              </md-content>
            </md-tab>
            <md-tab label="subjects" md-on-select="onTabChange('subjects')">
              <md-content class="sm-tab-content" class="md-padding">

                <md-table-container>
                  <table md-table md-progress="loadingPromise">
                    <thead md-head md-order="query.order" md-on-reorder="getSchools">
                      <tr md-row>
                        <th md-column md-order-by="schools.name"><span>SUBJECT NAME</span></th>
                        <th md-column>TYPE</th>
                        <th md-column>NUMBER OF TOPICS</th>
                        <th md-column>DESCRIPTION</th>
                        <th md-column md-numeric></th>
                      </tr>
                    </thead>
                    <tbody md-body>
                      <tr md-row md-select="dessert" md-select-id="name" md-auto-select ng-repeat="subject in get_subjects.data.subjects" ng-if="subject.is_deleted != '1'">
                        <td md-cell>{{subject.subject_name}}</td>
                        <td md-cell>{{subject.subject_type}}</td>
                        <td md-cell>{{subject.topics.length}}</td>
                        <td md-cell>{{subject.subject_description}}</td>
                        <td md-cell>
                          <button class="md-button md-raised md-primary" ng-click="showEditDialog($event, subject, 'edit_subjects', 'edit_subject')">
                            <md-tooltip md-direction="top">
                              Edit {{subject.subject_name}}
                            </md-tooltip>
                            <i class="material-icons">edit</i>
                          </button>
                          <button class="md-button md-raised md-warn" ng-click="performDeleteOperation($event, subject, 'subject', 'subjects')">
                            <md-tooltip md-direction="top">
                              Delete {{subject.subject_name}}
                            </md-tooltip>
                            <i class="material-icons">delete_forever</i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </md-table-container>

              </md-content>
            </md-tab>
            <md-tab label="topics" md-on-select="onTabChange('topics')">
              <md-content class="sm-tab-content" class="md-padding">

                <md-table-container>
                  <table md-table md-progress="loadingPromise">
                    <thead md-head md-order="query.order" md-on-reorder="getSchools">
                      <tr md-row>
                        <th md-column md-order-by="schools.name"><span>TOPIC NAME</span></th>
                        <th md-column>DESCRIPTION</th>
                        <th md-column>SUBJECT</th>
                        <th md-column md-numeric></th>
                      </tr>
                    </thead>
                    <tbody md-body>
                      <tr md-row md-select="dessert" md-select-id="name" md-auto-select ng-repeat="topic in get_topics.data.topics" ng-if="school.is_deleted != '1'">
                        <td md-cell>{{topic.topic_name}}</td>
                        <td md-cell>{{topic.topic_description}}</td>
                        <td md-cell>{{topic.subject.subject_name}}</td>
                        <td md-cell>
                          <button class="md-button md-raised md-primary" ng-click="showEditDialog($event, topic, 'edit_topics', 'edit_topic')">
                            <md-tooltip md-direction="top">
                              Edit this topic
                            </md-tooltip>
                            <i class="material-icons">edit</i>
                          </button>
                          <button class="md-button md-raised md-warn" ng-click="performDeleteOperation($event, topic, 'topic', 'topics')">
                            <md-tooltip md-direction="top">
                              Delete {{topic.topic_name}}
                            </md-tooltip>
                            <i class="material-icons">delete_forever</i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </md-table-container>

              </md-content>
            </md-tab>
            <md-tab label="grading" md-on-select="onTabChange('grading')" ng-click="setSeletedSettingsTab(5)">
              <div ng-if="!gradingLoaded" layout="row" layout-align="center center" style="min-height: 80vh;">
                <md-progress-circular md-mode="indeterminate"></md-progress-circular>
              </div>

              <md-content ng-if="gradingLoaded" class="sm-tab-content" class="md-padding">

                <div style="margin-left: 20px">
                  <div layout="row" ng-repeat="grade in gradingSystem">
                    <md-input-container>
                      <label>Lower Bound</label>
                      <input type="text" ng-model="grade.lower_bound">
                    </md-input-container>

                    <md-input-container>
                      <label>Upper Bound</label>
                      <input type="text" ng-model="grade.upper_bound">
                    </md-input-container>

                    <md-input-container>
                      <label>Grade</label>
                      <input type="text" ng-model="grade.grade_letter">
                    </md-input-container>

                    <md-input-container>
                      <label>Description</label>
                      <input type="text" ng-model="grade.description">
                    </md-input-container>

                    <md-input-container>
                      <md-radio-group layout="row" ng-model="grade.interpretation">
                        <md-radio-button ng-value="'passed'" class="md-primary">Passed</md-radio-button>
                        <md-radio-button ng-value="'failed'" class="md-primary">Failed</md-radio-button>
                      </md-radio-group>
                    </md-input-container>

                    <md-button class="md-raised md-warn sm-btn-add-grade" aria-label="deleteGrading" md-no-ink="false" md-ripple-size="full" ng-click="deleteGrading($index)"><i class="material-icons">delete_forever</i></md-button>
                  </div>

                  <div layout="column">
                    <h4>Add New Grade Point:</h4>
                    <form name="newGradeForm" class="sm-signup-form" ng-submit="addGrading()" novalidate>
                      <div layout="row">
                        <md-input-container class="sm-new-grade-input">
                          <label>Lower Bound</label>
                          <input type="text" ng-model="newGrading.lower_bound">
                        </md-input-container>

                        <md-input-container class="sm-new-grade-input">
                          <label>Upper Bound</label>
                          <input type="text" ng-model="newGrading.upper_bound">
                        </md-input-container>

                        <md-input-container class="sm-new-grade-input">
                          <label>Grade Letter</label>
                          <input type="text" ng-model="newGrading.grade_letter">
                        </md-input-container>

                        <md-input-container class="sm-new-grade-input">
                          <label>Description</label>
                          <input type="text" ng-model="newGrading.description">
                        </md-input-container>

                        <md-input-container>
                          <md-radio-group layout="row" ng-model="newGrading.interpretation">
                            <md-radio-button ng-value="'passed'" class="md-primary">Passed</md-radio-button>
                            <md-radio-button ng-value="'failed'" class="md-primary">Failed</md-radio-button>
                          </md-radio-group>
                        </md-input-container>

                        <md-button type="submit" class="md-raised md-accent sm-btn-new-grade" aria-label="addGrading" md-no-ink="false" md-ripple-size="full"><i class="material-icons">add</i></md-button>
                      </div>
                    </form>
                  </div>
                </div>
              </md-content>
            </md-tab>

            <md-tab label="sounds" md-on-select="onTabChange('sounds')" ng-click="setSeletedSettingsTab(6)">
              <md-content class="sm-tab-content" class="md-padding">

                <md-table-container>
                  <table md-table md-progress="loadingPromise">
                    <thead md-head>
                      <tr md-row>
                        <th md-column><span></span></th>
                        <th md-column>SOUND NAME</th>
                        <th md-column>TYPE</th>
                        <th md-column>DEFAULT</th>
                        <th md-column></th>
                      </tr>
                    </thead>
                    <tbody md-body>
                      <tr md-row ng-repeat="sound in get_sounds.data.sound" ng-if="sound.sound_purpose == 'quiz_background'">
                        <td md-cell>
                          <i class="material-icons" ng-if="sound.sound_status == 'default'">check</i>
                        </td>
                        <td md-cell>{{sound.sound_name}}</td>
                        <td md-cell>Quiz Background</td>
                        <td md-cell>
                          <md-switch class="md-primary" ng-model="sound.sound_status" ng-true-value="'default'" ng-false-value="'general'" ng-change="changeSoundStatus(sound)" aria-label="sound status"></md-switch>
                        </td>
                        <td md-cell>
                          <button class="md-button md-raised md-warn" ng-click="performDeleteOperation($event, sound, 'sound', 'sounds')">
                            <md-tooltip md-direction="top">
                              Delete this sound
                            </md-tooltip>
                            <i class="material-icons">delete_forever</i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </md-table-container>

              </md-content>
            </md-tab>
          </md-tabs>
        </md-content>
      </div>
    </md-card-content>
  </md-card>

</div>
